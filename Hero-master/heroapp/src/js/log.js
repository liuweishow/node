/*
  log.js
  brrower
  Created by gpliu on 14/10/16.
  Copyright (c) 2015å¹´ GPLIU. All rights reserved.
*/
//  log
function log(str){
    xhr({
        url:('/log'),
        async:true,
        data:{user:localStorage.username,path:window.location.href,log:str},
        error:function(){}
    });
}
var log_in = API.in;
API.in = function(data){
    if (typeof(data) === 'string') {
        log(data);
        data = JSON.parse(data);
    }else{
        log(JSON.stringify(data));
    }
    log_in(data);
}
var log_out = API.out;
API.out = function(data){
    if (typeof(data) === 'object') {
        data = JSON.stringify(data);
    };
    log(data);
    log_out(data);
}
var log_reloadData = API.reloadData;
API.reloadData = function(data){
    log(JSON.stringify(data));
    log_reloadData(data);
}
