var guoping = "'\n''\n'              guoping.liu@dianrong.com (iOS,android,nodeJS)                      '\n'\n'                      `'+#####++'``                                '\n'                     .############'`                               '\n'                  ''+###############+                              '\n'                `'+##################++:                           '\n'                .+####################';                           '\n'               .;+#####################;                           '\n'               ,+##'##++#############+#+'                          '\n'              ;+++#######+#####@########'                          '\n'              ;'#+#+####+#+#############+                          '\n'              ;+#+#++####+############@##'                         '\n'              ;##+#+##@####++############+                         '\n'              '##+###########+#######++##+                         '\n'              '+##########@#######+++''@##                         '\n'              '##################+'';;;+##                         '\n'              '#######++########+';::'+'@#                         '\n'              ;+###@#+'#######+'';;+##++@#                         '\n'              '+#####;;+######+';;''++++#+                         '\n'              ;'#####::'++##+''';'';;++''+                         '\n'                +####::;;;;,;'';,:;'#';''#                         '\n'                +####:,:;;'#++;,.,::;;;:;#                         '\n'                 +###:,,,,:.:::,,.::::::;#                         '\n'                 ;'+#;,,,.,,:,,,,.,;,,,:;#                         '\n'                 ':+#',,,,.,,,,,,,,:;,,:;#                         '\n'                  ,;++:,,,,,.,:,,,,:;:::'#                         '\n'                  ',:+::,,,,,,:::;;'+::;'#                         '\n'                   ;,;;::,,,::..;'++';;;'#                         '\n'                    :,':::::::,,,:::;;';'#                         '\n'                    ++':::::::;:,,,:'''''#                         '\n'                      +::::::;+++++++''',                          '\n'                      ++:::::;:,::;;'''',                          '\n'                      '+;::::;::;'++';'@,                          '\n'                       `;;;;;:::,,::;'+#,                          '\n'                       `';;;;;:::;';''+#,                          '\n'                       `+:;;;';;'''''''###                         '\n'                      ::;::;;;;''''''''';'@##                      '\n'                     '+:,,,:;;;''''''''''::;+.....                 '\n'                   ';;,.,,,,::;;'';';'''':;;:,,:#'                 '\n'                `::' `...,,,,::;;;;;;'''':;::,..```;+:.''          '\n'                .'.  `...,,,,,::;;;;;''''::,,..``````,:;+          '\n'             :''+     `...,,,,,::;;;''''':,...```` ````''          '\n'             '',      ``...,,,,,::;;''''',..```` ` ` ``.';,        '\n'           `'+         .......,,,:::;;';:.``````   ` ` ``;,        '\n'           `,          `........,,,,,,:,````````       ``,,        '\n'       ,::;    `        ........,,,...,.`````` `    `  ``.,        '\n'       ;':     `         ``...,,,,,..,, ```` `` `   `` ``..        '\n'       :.      `          .......,.,,.` ``````` `   `  ```.``      '\n'     ''`       `           `.....,,..` `` ``  `        ``..':      '\n'     '         `             `....,`  ``` `` ``  `     ``.`,:      '\n'     +                           ``  ```` ```` ` `   ````.`,;      '\n'     :                          ``` ` .`` ```` ` ``` ``` ,`.,      '\n'    :`          `            ``````.``.`` ```` ````` `.` .``,:     '\n'    :           `            ``````` `` ` `````````` .,`````,:     '\n'    ;       `   `           ` ```````.``` ```````````..`.```..     '\n'    ;           `         ` `````````.``` ````````````` .` ``.     '\n'    `    ``  `            ` `````````.``` ``````.`.``````` ``.:+   '\n'          ` `  `          `` ```````.```` ```.`.,...```. ``.`..+   '\n'   +      ` ` `` ```  ` ` ````````````````..`.```.....```` ,`,.;   '\n'   ;    `  ` ````` `` ```````````````````````..``,..... `` .`.`.   '\n'   .       `````````` `` `````````,,,:',```.,...`,....`. ``.`.,`   '\n'            `````````````````````:`.,...`.`.`..,,,,....`` ```..#   '\n''\n'";
console.log(guoping);
var yechao = "'\n'                                                                   '\n'                     yechao.zhu@dianrong.com(iOS)            '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                         :::::;;;;;;;;:;                           '\n'                         :::;'+#'#'+++';;;;                        '\n'                      ;;:;#'+++#+'+'+##+;;;                        '\n'                      ;;+##+++##+++#+#'#+''';;                     '\n'                   :::'###+###+#+#+###++#+++;;                     '\n'                     +++#############++++#++';:                    '\n'                  ,,++#+##############++++##+++;;;                 '\n'                  `+##++################+++++++#;;                 '\n'                  :###++#+#+###########++++####+'                  '\n'                 ,+##+#+++++++####++++'''''+#+#++;                 '\n'                ,;+###+''';'''''++'';;;;;;;'+###++                 '\n'                .#####+';;;;;;''';;;;;:::::;++###+::               '\n'                :+###+';;;;;;;;;;;;::::::::;;+###++.               '\n'                +####';;;;:::;;;::::::::::::;+##+#+`               '\n'                +###+'::::::::::::::::::::::;'####+;               '\n'                ####+;::::::::::::::::::::::;'#####'               '\n'                ###+'::::::,,,,,,,,,,,,,::::;;+##++'               '\n'                ###';:::::,,,,,,,,,,,,,,,,:::;+###++               '\n'                ##+;:::;;;:,,:,,,,,,,:,,,,:,:;'+##++,              '\n'                ##+;::;;'''';:::::::::;''';;;;;+###':              '\n'                ##':::::;;''++';::;;'++++';;:;;'+##';              '\n'                ##;::;;;;;;''''';;;''''';;;;;;;;+##,:              '\n'                +#;:;;;;::;;'''';;;'''';;;;;;;;;+##;'              '\n'                '#::;;;;'+'+'''';;;'+'';:;;;;;;;'#'''              '\n'                ;#:::;'+++##'#''::;+'++##+#+';;:;#''+              '\n'                '#::::;;''#+++';:,:''++##'+'';::;#'+'              '\n'                ++:::::;';''';:::,:;;''';;';:::::#;++              '\n'                +'::::::;;;;;::::,:::;'''';:::::;#+'+              '\n'                +':::::::;;:::::,,::::;;;;::::::;#+                '\n'                +':::::::::::::::,::::::;:::,:::;+                 '\n'                '':::::::::::::::,,:;:::::::::::;'                 '\n'                '';::::::::::;:::,:::;:::::::::;;'                 '\n'                +';:::::::::;,::::;:,;:::::::;;;;:                 '\n'                '';;;::::::;::#+;;;+;;:::::::;;;''                 '\n'                ++;;;;:::::::;''''''';:::::::;;;+                  '\n'                '';::;:::::::;;;'';;;:::::::;;;;+                  '\n'                ''';:;::::::::::;;::;;:::::;;;;;#                  '\n'                ;;;;:;::::;;::;'';';::;::::;;;;'+                  '\n'                ''';;;;::;;;;''''''''';;;;;;;;;''                  '\n'                +++;;;;;:;;'+++++++++'';;;;;;;;++                  '\n'                +++';;;;;;'+;;::::::;++';;;;;;'++                  '\n'                ++++;;;;;;;;;;;;;;;'';;;;;;;;;+++                  '\n'             +++++'`:;;;;;;;;;;'''';;;;;;;;;;;+++                  '\n'             ++++.``.;;;;;;;;'''++''';;;;;;;;`.++                  '\n'             +++ ``..:;;;;;;;'''''';;;;';;;;;.`.+++++              '\n'        ..+++++.```.,;;;;;;;;;;'';;;;;;;;;;;:.```++++              '\n'        :;+++`,```..,;;';;;;;;;;;;;;;;;;;;;':,`` `+++++++++        '\n'         ,++`.:```..,:;;';;;'''''''''';;'';#,.``  .` ,'++++        '\n'````     ;'``.,.``...,;;;'''''''''''''''';'#,.`` ````..` ++        '\n':::::, `` ```:,:``...:';;;'''''''+'''''';;'#,.``  `` `.```++++     '\n'#';;  `   ``.:;:``...,+';;;'''++++++''';;;+',.``  ```..``  `'+     '\n'##.  ``  ```:+.````..,#';;;;'''''''''';;;'+:,```` ````.`       ++++'\n''    `` ``  +,:````.`,+'';;;;'''''''';;;''+:.```   ```.`        .++'\n'  ` ```     ''```````.;+'';;;;;;;;;;;;;;''#,.```   `````           '\n'    ``    ` ,```` ```.:+'';;;;;;;;;;;;;;''+..```   `````     `     '\n'     `   `  ;`  `````,,+'';;;;;;;;;;;;;;+';.`.``  `````` `   `     '\n'     `   ` `.   `  ``,.';;;;;;;;;;;;;;;;;':``.``::````````   `    `'\n'  `  `   ` ``.  `:;,`..:;;;;;;;;;;;;;;;;;;.````.+:,```````   `     '\n'  `  ```   ````,::::`.`,;;;;;;;;;;;;;;;;;..` ```',.``````   ``   ` '\n' ``` ```   .`````,:: ```,::;;;;;;;;;;;;;,.``` ``,,.``````  ```  `  '\n' ``` ```   .``````.,.````.:::;;;;;;;;;;;.```` ` ````````` ` `      '\n' ``` ```   .```````..` ` `.:::::::::;:;.`````` `````````` ``` ```  '\n''\n'";
console.log(yechao);
var carl =  "   \n '\n'                                                                   '\n'                 chengyao.zhu@dianrong.com (iOS)                          '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                    `.;;;.`                                        '\n'                 .@@#@@@@@##@+                                     '\n'                @@@@@@@@@@@@@@#@`                                  '\n'              .#@@@@@@@@@@@@@@@@#`                                 '\n'             `#@@@@@@@@@@@@@@@@@@#                                 '\n'           ,'#@@@@@@@@@@@@@@@@@@@@@                                '\n'           #@@@@@@@@@@@@@@@@@@@@@@@'                               '\n'          @@@@@@@@@@@@@@@@@@@@@@@@@#                               '\n'         +@@@@@@@@@@@@@@@@@@@@@@@@@@;           .`                 '\n'        `#@@@@@@@@@@@@@@@@@@@@@@@@@@@                              '\n'        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@                              '\n'       `#@@@@@@@@@@@@@@@@@@@@@@@@@@@@:                             '\n'       +@@@@@@@@@@@@@@. @@@@@@@@@@@@@@                             '\n'       @@@@@@@@@@@@@@#` .#@@@@@@@@@@@@                             '\n'       #@@@@@@@@@@@@@#` `.@#@@@@@@#@@@                             '\n'       #@@@@@@@@@@@@@@@`   `:@@@@'@@@#                             '\n'       #@@@@@@@@@@@@@@:   `    `@'@:@#                             '\n'       #@@@@@@@@@@@@@@@  `..    @,##@#                             '\n'       #@@@@@@@@@@@@@@# @## `   #@@#@#                             '\n'       #@@@@@@@@@@@@@@@@#@@@    :#@@#@                             '\n'       @@@@@@@@@@@@@@@@@#@@@,     #@#@                             '\n'       @@@@@@@@@@@@@@@@@#@@@;    ,' `.    .+@..@,                  '\n'       ;@@@@@@@@@@@@@@@#` ##@        ;  ;@`      ;+                '\n'       `#@@@@@@@@@@@@@@+.,..         ,@.           ,@.             '\n'        @#@@@@@@@#@@@@@@  `          '             ` `@`           '\n'         .@@@@@#`,@##@@@                @.    ;   @.   .#          '\n'           #@@@@; ; `#@@,           :  @      ;    .`  ` #         '\n'           `+@@@@,`,`#@@@       `  ,  :       ,     ;     #        '\n'             .@@@@@@'@#.#`        ,           `           ..       '\n'               @@@@+`#@; @       ;                         '       '\n'                ,#@,`.;; ` `  `@                            #      '\n'                 ``'+,;  ,,   :`                            ;      '\n'                    #@#:   ,' @ `                           ``     '\n'                   +@@@@@     ;  `                           #     '\n'                   #@@@:##@`     :                           @     '\n'                  +@@@# '@@@@`  `  ..   :`                   '     '\n'                  @@@@#  @@;,`      ``  `,                   ,     '\n'                 .@@@#   `#...`.         `:,                 `     '\n'                 @@@@#    #..`   ;   `      `                .     '\n'                 #@@#`   .#..      ;.        `               ,     '\n'                :@@@@    +@``       ,  .                     '     '\n'                @@@@#    @@..       `,`                      @     '\n'                @@@@@,   #@,@         `                      :     '\n'               `@@@@@, `+@@:`         ,                    `:      '\n'              `; .'@@@:    `,;':.`           ``             @      '\n'               ,   `       ` `     .:+@ `   ` `            ,`      '\n'                :` `                  ,  `` ..             @      `'\n'                `:  `  ` `                `               ;`       '\n'              @@@#+.``:`.`  `` `     .   , `:' ````` ````:#'`      '\n'                          `.@.       ,     `                       '\n'         `                   `@,`     ` ,  `                       '\n'                               `:; `  ' `  `                       '\n'       `                         ``;'.;   .                        '\n'                                    `.@@:`                         '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n' ";'\n';
console.log(carl);
var xin = "'\n'                                                                   '\n'                      xin.cai@dianrong.com (android)                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                               `.,.`                               '\n'                            .#++#:;;+#'`                           '\n'                          `+####''++'###@                          '\n'                         ,######'+##+##+##.                        '\n'                        .######+''++++#####                        '\n'                        +#####+'''++++#@#@#@                       '\n'                       .###+#@;;,`'''++###@#`                      '\n'                       ;#@,  .;`   `:;++'@##+                      '\n'                       '#''++'`    `,,:++++#@                      '\n'                      `,#',```.    `...:;+++:                      '\n'                     ,##+'';` `.   `` `,:;+##+`                    '\n'                     ,+#@##+;;':.  .  ,+@#@###@                    '\n'                     .#####@+#@#++#@@+#@#@@##@@                    '\n'                     `'###+;;#####+########@##'                    '\n'                      +#+#;::,,##@;@@':::;'###,                    '\n'                      '++#::,,,;@::;'@::::;#;#.                    '\n'                      +++#:,,,;#;:::@@::::;++#                     '\n'                     +####;,,,.,@++@@,::::;#'#                     '\n'                     @##+;'@@@@'#@#+##@+++#@@#.                    '\n'                     `##@@@#++@##@+++''+##@@##+                    '\n'                     .###';+##@#+';'+@#@@@@@@#`                    '\n'                     `###+;+@####'+'#@;##@#@#@                     '\n'                      @###@@';+###+;#@+##@@#@+                     '\n'                      @###''#@#''++;;'@@@@###`                     '\n'                      ######@''@@@@#@@##@@#@#                      '\n'                       '+@@':+@#++',+@@##@###                      '\n'                        @@@@@;';'''@#:;#@@@@                       '\n'                        ;;'+@@@+''#+;+@#'+';;                      '\n'                    +'+@;;;,#@##@##'@@##,;;;#++'                   '\n'                   ''''+;;;;;@@+#@@@#@#;;;;;+''''                  '\n'                  ;';;'';;.,,@@@@#+@@+#.,.:;#';;'+                 '\n'                  ',,:;+':;,@,@#@@@'@@,#;+,++',,;'                 '\n'                 ;',,:+#;:;;;,@@@#+@@@,;;;:;+@:.;''                '\n'                .';,;;+#,;#';;.#'@@+#`;;'@;.+#;::;'`               '\n'                ;;:;''+#@::;;;;;@;;@;';;;;,@#+;::;;;               '\n'               :'::;''''#;;;;;;,@@@@:;;;;;;#;+';;;;',              '\n'               ;;,;;'+++'#.;';;'.##`;;;;;.#';+'';;;;;              '\n'              ;'::;''+#@'@@;;;;;;@;;;:;::@@+@++';;:;':             '\n'              ';:;''++@@@+@';;;'#@.;:;::'@@@##@';;:;''             '\n'              ':;;''++@@:@@@.:;;#:;::;:.@@@:###'';;;;;             '\n'             `;:;;;+++''@,@@@::'#.:::;:@@@.#;;+''';:;'`            '\n'             ::,:`;+++';@:@@@,;@+;::::.@@@,#:;#'';::,',            '\n'             +,:;.;++##@,:@@@@;#.::::;@@@@:.+##+'::,.'+            '\n'             +,::,'+#@@#@@@@@#:@,::::.#@@#@@@@##';::.;+            '\n'             ',:,,'+##@,:#@@@@@@;:::;;@@@@#:.@##';::.;'            '\n'             ',;.:'++''','@@@@@:;;:;;@@@@@#.+';+';::,;+            '\n'            `+###;'++''@.@@@@@@,;;;;,@@@@@@,@;'#'';'@#+`           '\n'             ;#++#+'#@@;;@#@@@#.;;;;.#@@#@@;;@@#'##'+';            '\n'             @##+#  ###@@@#@@@@,;;;;,@@'@@@@@@##`:+'''+            '\n'             ++### `+###@@@'@@@:'';;:@+@'@@@@@##` ''++'.           '\n'           @+++++@   #++'+++++++####@@@@@@@@@#+  `#'''''+          '\n'          @+;: .++'  #;'++';;;;+';';'+;;;;;;;;;` ++; :'+'@         '\n'         `++#   ,+#` #;';;;;''+@'''+'+@+''';;;; @@'`  .#+;         '\n'         :++`    +#;`@';''+++'#''';#@#++'';;;;' ##'    #+'`        '\n'         :#'     +@:.@@@@@@@@@##,@#,##@@@@@#@@@`##'    @''`        '\n'          +'    ++# ,';+'@#@#@:+,#@,';@##@@+'@@`@#;;   @+;         '\n'          @@    @## ,,.+:@####:#+++++::#+#++:.,. +#@   .+:         '\n'                @;  ,'+` '+++';+'';'';,''': ;,,.  @@               '\n'                    :+#+#####:+####+#,,,##+#'++,                   '\n'                    '##;;##@@;#######';;'###@##,                   '\n'                    #;:#;@#@;;########;;;#;:+'+,                   '\n'                    @';#+@@;;;@#######';;'#'''',                   '\n'                    @###@@#'''########@''+@+#@#,                   '\n'                    @++++++#'##+@#@@+'##@##++##,                   '\n'                    @'+#+#####+:@##'+##########,                   '\n'                    @+;::+@++:'@@  +'::'####';:,                   '\n'                    @@';'#';;'+@@  +###+;::;##+,                   '\n'                    ';+@#@###@#;@  ';'+@@#+;;;':                   '\n'                    ###+++++##@@@  #@@@########:                   '\n'                    ############@  +++''';;;;;;'                   '\n'                    ############@  +###########'                   '\n'                    +###########@  +###########'                   '\n'                    ############@  +###########@                   '\n'                    +####@#@#@##@  ############@                   '\n'                   `#@@@@@@@@@@@@  ############@                   '\n'                   `#@@@@@@@@@@@@  #@@@@@@@@####                   '\n'                   .##@@@@@@@@@@@  ##@@@@@@@@##@                   '\n'                   .###@@@@@#@@@@  ##@@@@@@@@#@@                   '\n'                   .###@@@@@@@@@@  ##@@@@@@###@@                   '\n'                   :#####@@@@@@@@  #@@@@#@@@###@                   '\n'                   ``.``.``.`````  .`...:::;;++@                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'                                                                   '\n'";

console.log(xin);
var qiankang = "'''''''''''''''''''''''''''''''''''''''''''''''''''''++++++++++++++\n\n                 kang.qian@dianrong.com (android)                 \n\n''''''''''''''''''''''''''''++########@#####+++++'+'+++++++++++++++\n''''''''''''''''''''''''''+###@@@#@@@@@@@@@####++++++++++++++++++++\n''''''''''''''''''''''++##@#@@@@@@@@@@@@@@@@@@###++'+++++++++++++++\n'''''''''''''''''''''+##@@@#@@@@@@@@@@@@@@@@@@@@##+++++++++++++++++\n'''''''''''''''''''+##@@@@@@@@@@@@#@@@@@@@@@@@@@@###+++++++++++++++\n''''''''''''''''''+##@@@@@@@@@@@@@#@@@@@@@@@@@@@@@@@#++++++++++++++\n''''''''''''''''+##@@@@@@@@@@@@@@@@##@@@@@@@@@@@@@@@@##++++++++++++\n''''''''''''''''##@@@@@@@@@@@@@@@@#######@@#####@@@@@@#++++++++++++\n'''''''''''''''+#@@@@@@@###@@@@####################@@@@##++++++++++\n'''''''''''''''#@@@@@@@@#############++++'++++######@@@@##+++++++++\n''''''''''''''+#@@@@@########++'''';;:::::::::;'+#####@@##+++++++++\n;'''''''''''''#@@@@#####++'''';::::,,,,,,,,,,,,:;;'####@@##++++++++\n'''''''''''''+@@@@###+++''';;:::,,,,,,,,,....,,,:::;####@@#++++++++\n;''''''''''''#@#@@@#+++'';;:::,,,,,,,,,,......,,,:::'###@##++++++++\n;;'''''''''''#@@@@##++'';;;:::,,,,,,,,,,......,,,,::;+#####++++++++\n;;;''''''''''#@@@##++'';;;;;:::,,,,,,,,,......,,,,:::;#####++++++++\n;;;;;''''''''#@@###++'''';;;:::,,,..,.,,......,,,,,::;+#####+++++++\n;;;;;;'''''''#@@###++''''';;;::,,,..,..,,,..,,,::,,,::+#####+++++++\n;;;;;;;''''''#@@##++''++#####+';:,......:;;+++++'';:::'#####+++++++\n;;;;;;;''''''##@##+''+###++++++'',.....,:;'++';:;;'':::####++++++++\n;;;;;;;;'''''####+''+++';:,,,::,,,,....,::,,,.....,,:::+###++++++++\n;;;;;;;;;''''+###+''';;::,,...,,,,,....,,,,,...`...,,::'#+:'+++++++\n;;;;;;;;;;;;;;+##+'';;::,,,...,,,,,,...,,,,::;,....,,,,;#;;;+++++++\n;;;;;;;;;;;':;'##'';;;::;+'#'+';,,::...,,:';'@';'':,,,,:#,,:+++++++\n;;;;;;;;;;;;;''##'';;;;';:;;;::,,,:;,.....,,,,......,,,:#,,:+++++++\n;;;;;;;;;;;;'';+#'';;;;;:,,,....,:;;,......,........,,,:+:,++++++++\n;;;;;;;;;;;''';;#''';;;::,.....,,:::,................,,:+:,++++++++\n;;;;;;;;;;;;;''+#''';;::,,....,,:::;:,..........`....,,:','++++++++\n;;;;;;;;;;;;;'';+';;;::,,,,,,,,,,;;;:,.........``....,,:::+++++++++\n;;;;;;;;;;;';;'''';;;:::,,,,,,,,';;;,.........````...,,::;+++++++++\n;;;;;;;;;;;';''''';;;:::,,,..,,;;,::,...,:....```...,,:;:++++++++++\n;;;;;;;;;;;';';';;';:::,,,...,,;;,'+',,,,,,,........,,:''+'++++++++\n;;;;;;;;;;;;;;''''';::::,,,,,,::;:;;:,..,.,,........,,;+'++++++++++\n;;;;;;;;;;;;''''''';;:::,,,,,:::::::,,,...,,,,.....,,,'++'+++++++++\n;;;;;;;;;;;;'''''''';:::::::::::::,,,,,.....,,,....,,:+++++++++++++\n;;;;;;;;;;;''''''''';::::::::::::,,,:,,,,,,,,,,,,,,,,'++'++++++++++\n;;;;;;;;;;''''''''''';:::::::,:'++++++'':::;,,,,,,,,;++++++++++++++\n;;;;;;;;;''''''''''''';:::::::::;'';,,,,,,,,,,,,,,,;+++++++++++++++\n;;;;;;;'''''''''''''''';:::;:::::::::::,,,,,,,,,::;'+++++++++++++++\n;;;;;;;''''''''''''''''';;;;;:::::,,,,,,,,,,,,:::;;++++++++++++++++\n;;;;;;;''''''''''''''''';;;;;;::::,,,,,,,,,,,,::;;:++++++++++++++++\n;;;;;;''''''''''''''''''';;;;;;;:::,,,,,,,,,,:;;:::++'+++++++++++++\n;;;;;'''''''''''''''''''';;;;;;;;:::,,,,,,,::;:,,,:''++++++++++++++\n;;;;;'''''''''''''''''+';;;;;;;;:::::::::::::,,,,,::+++++++++++++++\n;;;;''''''''''''''''';#';;;;;;;;::::::::::::,,,,,,:;,++++++++++++++\n;;;;'''''''''''''''+@:;';;;;;;;;;::::::::::,,,,,,:::.#+++++++++++++\n''''''''''''''''''#@+::;+;;;;;;:::::::,,,,,,,,,,,,,..;##+++++++++++\n''''''''''''''''##@@;:,,:#';:::::::,,,,,,,,,,,,,,,;``,###++++++++++\n''''''''''''''##@#@@;:,,..:+':::::,,,,,,,,,,,,,,:'```.+####++++++++\n''''''''''+#@@@@@@@@':,,....;';;:,,,,,,..,,,,,,:'````.'####@#++++++\n''''''#@@@@@@@@@@@#@+:,.......:;;;:,,,,,,,,,,,;:`````.'#########+++\n''+#@@@@@@@@@@@@#@#@+;,......```:;::::,,,,,,,;.```````+############\n@@@@@@@@@@@@@@@@#@##+',......`````::::,,,,,:'.````````#############\n@@@@@@@@@@@@@@@@####+;;,.....``````.;;::::;;`````````.#############\n@@@@@@@@@@@@@@@##@##@;:,.....````````,;;;'.``````````.#############\n@@@@@@@@@@#@@@@######:,,......`````````,,.` ` ```````:#############\n@@@@@@@##########@###+;.......```````.,,;++``````````'#############\n@@@@@@##########@@####........```.`.'#######;````````##############\n@@@@@##########@######,;..`........##########+```````##############\n@@@@@@########@#@@####+.:.`......`@#########;'+`````,##############\n@@@@@#######@##########,:```....`:'########;,,;'.```;##############\n@@@@@@@####@###########.,'``.....,:;######@`...,;;``###############\n@@@@@@@@@@@############;.:`.......,,:#####.`````.:'`##############@\n@@@@@@@@@#@#############.,'.`.``..,,:#####.`.`````,'###############\n@@@@@@@@@#######@#######..:,..``..,,;######```````,+###############\n";
console.log(qiankang);
var logo = " \n                                                                                                                                        \n                                                                                                                                        \n                                                                                                                                        \n                                                                                                                                        \n    @@@@@        @@@@@                                           @@@@@@@         @@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@@@@         @@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@@@@        @@@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@@@@@       @@@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@@@@@       @@@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@@@@@      @@@@@@@@                                                 \n    @@@@@        @@@@@                                           @@@@ @@@@     @@@@@@@@                                                 \n    @@@@@@@@@@@@@@@@@@                                           @@@@ @@@@     @@@ @@@@                                                 \n    @@@@@@@@@@@@@@@@@@                                           @@@@ @@@@    @@@@ @@@@                                                 \n    @@@@@@@@@@@@@@@@@@                          @@               @@@@  @@@@   @@@@ @@@@       @@                                        \n    @@@@@@@@@@@@@@@@@@   @@@@@@@  @@@@@@@@    @@@@@@             @@@@  @@@@   @@@@ @@@@    @@@@@@@   @@@@@@@@  @@@  @@      @@@@@@@@    \n    @@@@@@@@@@@@@@@@@@   @@@@@@@  @@@  @@@   @@@  @@@            @@@@  @@@@  @@@@  @@@@    @@@  @@@  @@@  @@@  @@@  @@      @@@@@@@@    \n    @@@@@        @@@@@   @@       @@    @@   @@    @@@           @@@@   @@@@ @@@@  @@@@   @@@    @@  @@@   @@  @@@  @@      @@@         \n    @@@@@        @@@@@   @@       @@    @@  @@@     @@  @@@@@@   @@@@   @@@@ @@@   @@@@   @@     @@@ @@@   @@  @@@  @@      @@@         \n    @@@@@        @@@@@   @@@@@@@  @@@@@@@   @@@     @@  @@@@@@   @@@@   @@@@@@@@   @@@@   @@     @@@ @@@@@@@   @@@  @@      @@@@@@@     \n    @@@@@        @@@@@   @@@@@@@  @@@@@@@   @@@     @@  @@@@@@   @@@@    @@@@@@@   @@@@   @@     @@@ @@@   @@  @@@  @@      @@@@@@@     \n    @@@@@        @@@@@   @@       @@   @@@  @@@    @@@           @@@@    @@@@@@    @@@@   @@     @@  @@@   @@@ @@@  @@      @@@         \n    @@@@@        @@@@@   @@       @@    @@   @@@   @@            @@@@    @@@@@@    @@@@   @@@   @@@  @@@   @@@ @@@  @@      @@@         \n    @@@@@        @@@@@   @@@@@@@@ @@    @@@  @@@@@@@@            @@@@     @@@@@    @@@@    @@@@@@@   @@@@@@@@  @@@  @@@@@@@ @@@@@@@@    \n    @@@@@        @@@@@   @@@@@@@@ @@@   @@@    @@@@@             @@@@@    @@@@     @@@@     @@@@@    @@@@@@@   @@@  @@@@@@@ @@@@@@@@    \n                                                                                                                                        \n                                                                                                                                        \n "
console.log(logo);
var ping = require('ping');
ping.sys.probe('10.9.15.179', function(isAlive){
	if (isAlive) {
		var redis = require('redis')
		var redisSub = redis.createClient('6379', '10.9.15.179');
		var redisPub = redis.createClient('6379', '10.9.15.179');
	};
});



function createProxyServer(url,port){
  var fs = require('fs');
  var log4js = require('log4js');
  log4js.configure({
    appenders: [
      { type: 'console' }, //控制台输出
      {
        type: 'file', //文件输出
        filename: 'logs/log.log',
        maxLogSize: 1024000,
        backups:1,
        category: 'normal'
      }
    ]
  });
  var logger = log4js.getLogger('normal');
  logger.setLevel('INFO');
  var multer = require('multer');
  var express = require('express');
  var http = require('http');
  var https = require('https');
  var fs = require("fs");
  var options = {
  	key: fs.readFileSync('./cer/key'),
	cert: fs.readFileSync('./cer/cert')
  };
  var app = express();
  app.enable('trust proxy');
  var server = http.createServer(app);
  var serverHTTPS = https.createServer(options,app);
  serverHTTPS.listen(port+1000);
  server.listen(port);

  var proxy = require('express-http-proxy');
  app.use('/api/v2/', proxy(url, {
    forwardPath: function(req, res) {
      return '/api/v2' + require('url').parse(req.url).path;
    }
  }));
  app.use('/images/captcha.jpg', proxy(url, {
    forwardPath: function(req, res) {
      console.log('/images/captcha.jpg' + require('url').parse(req.url).path.substring(1));
      return '/images/captcha.jpg' + require('url').parse(req.url).path.substring(1);
    }
  }));

  var cookieParser = require('cookie-parser');
  app.use(cookieParser());
  var bodyParser = require('body-parser');
  app.use(bodyParser.json());

  app.use(function(req,res,next){
    if (req.path == '/log') {
      logger.info('----------------------');
      logger.info(req.query);
      res.send('ok');
      res.end();
    }else if (req.path == '/analysis') {
	  res.header("Access-Control-Allow-Origin", "*");
	  res.header("Access-Control-Allow-Headers", "X-Requested-With");
	  res.header("Access-Control-Allow-Methods","PUT,POST,GET,DELETE,OPTIONS");
	  res.header("X-Powered-By",' 3.2.1')
	  res.header("Content-Type", "application/json;charset=utf-8");
      logger.info('----------------------');
      logger.info(req.body);
      res.send('ok');
      res.end();
    }else{
      console.log(req.url);
      if(!req.cookies||(req.cookies.userid === undefined)){
        res.cookie('userid','HERO@'+require('os').hostname()+(new Date()).getTime(),{maxAge:30*24*3600});
      }
      next();
    }
  });

  app.use('/borrower-static/wallet/:vpage', express.static('../test', {
    maxAge: 0,
  }));
  app.use('/', express.static('../heroapp', {
    maxAge: 0,
  }));
  app.use('/test', express.static('../test', {
    maxAge: 0,
  }));
  app.use(/((?!\/).+)\//, express.static('../test/page_test', {
    maxAge: 0,
  }));

  var socketProcess = function(socket){
    socket.hero = {};
    socket.on('sub', function(obj){
      var userid;
      if (obj.userid) {
      	userid = obj.userid;
      }else{
        userid = decodeURIComponent(socket.request.headers.cookie.match(new RegExp("(^| )userid=([^;]*)(;|$)"))[2]);
      }
      if (!userid) {
        socket.close();
      };
      socket.hero.sender = require('os').hostname()+process.pid;
      socket.hero.userid = userid;
      socket.hero.card = obj.card;
      socket.hero.pub = obj.pub;
      socket.hero.subs = obj.subs;
      socket.join(userid);
      if (obj.subs) {
        for (var i = 0; i < socket.hero.subs.length; i++) {
          var sub = socket.hero.subs[i];
          socket.join(sub);
        };
      }
      // redisPub.publish(socket.hero.card,JSON.stringify({command:'join',user:socket.hero}));
    });
    socket.on('message', function(obj){
      if (socket.hero.userid) {
	    obj.hero = socket.hero;
	    console.log('Her-MQ:'+ JSON.stringify(obj));
	    // redisPub.publish(socket.hero.card,JSON.stringify(obj));
      };
    });
    socket.on('disconnect', function(){
      // redisPub.publish(socket.hero.card,JSON.stringify({command:'leave',user:socket.hero}));
    });
  };
  var io = require('socket.io')(server);
  var ios = require('socket.io')(serverHTTPS);

  io.on('connection',socketProcess);
  ios.on('connection',socketProcess);
  // redisSub.subscribe(require('os').hostname()+process.pid);
  // redisSub.on('message', function(channel, msg) {
  //   console.log('Her-Client:'+ msg);
  //   msg = JSON.parse(msg);
  //   var group = msg.group;
  //   msg.group = undefined;
  //   io.to(group).emit('message',msg);
  //   ios.to(group).emit('message',msg);
  // });
}
function her(){
  var servers = [
    {url:'https://hero-mobile.com',port:3000},
  ];
  for (var i = 0; i < servers.length; i++) {
    var server = servers[i];
    createProxyServer(server.url,server.port);
  };
}
exports.start = her;
her();
